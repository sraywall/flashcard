<!doctype html>
<html>
  <head>
    <title>A Flashcard System</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.js"></script>
  </head>
  <body>
    <button type="button" onclick="toggleAll()">Toggle All</button>
    <div class="card" id="myCard">
        <p>My Card</p>
        <ul id="sortable">
          <li draggable="false">
              <div class="addItem">
                <p unselectable="on">Add new Item</p>
                <div class="addItemDiv">
                  <form action="#" id="infoform">
                    Name: <input type="text" name="usrname">
                    <input type="submit" id="submit" value="add">
                  </form>
                  <br>
                    <textarea rows="4" cols="50" name="comment" form="infoform"></textarea>
                </div>
              </div>

          </li>
        </ul>

    </div>
  </body>
  <script>
  function toggleAll(){
    $(".info").toggle();
  }

  var counter = 0;
    /*  $( function() {
      $( "#sortable" ).sortable();
      $( "#sortable" ).disableSelection();
    } );*/
    $(".addItemDiv").hide();
    $(".addItem").click(function(){
      $(this).find(".addItemDiv").show();
    });
    $(".addItemDiv").click(function(e) {
     e.stopPropagation();
    });
    $(document).ready(function(){
      $("form").submit(function (ev){
          addItem(
            $("input[name='usrname']").val(),
            $("textarea[name='comment']").val()
          );
          ev.preventDefault();
          $(".addItemDiv").hide();
          $("input[name='usrname']").val("");
          $("textarea[name='comment']").val("");
      });

    });

    $(document).on("click",".item",function (){
        $(this).find(".info").toggle();
        //alert("please!");
      });

    function addItem(name,info){
      counter++;
      var newItem = document.createElement("LI");       // Create a <li> node
      newItem.innerHTML =
      `<div class=\"item\">
            <p>`+name+`</p>
            <img class="edit-icon" src="ic_border_color_black_24dp.png">
            <p class="info">`+info+`</p>
          </div>`;
      var list = document.getElementById("sortable");
      //list.appendChild(newItem);
      list.insertBefore(newItem, list.childNodes[0]);
    }
  </script>
</html>
